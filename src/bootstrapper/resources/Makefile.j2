# Makefile for {{ project_name }}
# Auto-generated by swift-openapi-bootstrapper

.PHONY: help generate clean build test

help:
	@echo "Available commands:"
	@echo "  make generate - Generate Swift code from OpenAPI spec"
	@echo "  make clean    - Remove generated sources"
	@echo "  make build    - Build the Swift package"
	@echo "  make test     - Run tests"

generate:
	@echo "Generating Swift code from OpenAPI specification..."
	swift run swift-openapi-generator generate \
		--config openapi-generator-config-types.yaml \
		openapi.yaml \
		--output-directory Sources/{{ project_name }}Types/GeneratedSources
	swift run swift-openapi-generator generate \
		--config openapi-generator-config-client.yaml \
		openapi.yaml \
		--output-directory Sources/{{ project_name }}Client/GeneratedSources
	@echo "Code generation complete!"

clean:
	@echo "Cleaning generated sources..."
	rm -rf Sources/{{ project_name }}Types/GeneratedSources/*
	rm -rf Sources/{{ project_name }}Client/GeneratedSources/*
	@echo "Clean complete!"

build:
	@echo "Building {{ project_name }}..."
	swift build

test:
	@echo "Running tests for {{ project_name }}..."
	swift test
